<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Stock Analysis Dashboard</title>
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --accent-blue: #60a5fa;
            --light-blue: #dbeafe;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-glass: rgba(255, 255, 255, 0.8);
            --border: rgba(59, 130, 246, 0.2);
            --shadow: rgba(0, 0, 0, 0.1);
            --positive: #059669;
            --neutral: #d97706;
            --negative: #dc2626;
            --positive-bg: #d1fae5;
            --neutral-bg: #fef3c7;
            --negative-bg: #fee2e2;
        }

        [data-theme="dark"] {
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-glass: rgba(31, 41, 55, 0.8);
            --border: rgba(96, 165, 250, 0.3);
            --shadow: rgba(0, 0, 0, 0.3);
            --positive-bg: #064e3b;
            --neutral-bg: #78350f;
            --negative-bg: #7f1d1d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .glass-card {
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 8px 32px var(--shadow);
            transition: all 0.3s ease;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
        }

        .header h1 {
            color: var(--text-primary);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 20px;
        }

        .filter-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.875rem;
            min-width: 120px;
        }

        .theme-toggle {
            background: var(--secondary-blue);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--primary-blue);
        }

        .summary-card {
            background: linear-gradient(135deg, var(--secondary-blue), var(--accent-blue));
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .summary-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-box {
            padding: 25px;
        }
        
        .info-box h3 {
            color: var(--secondary-blue);
            margin-bottom: 15px;
            font-size: 1.25rem;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 16px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-primary);
            border-radius: 16px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 8px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            font-size: 0.875rem;
        }
        
        th {
            background: var(--primary-blue);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        th small {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.75rem;
            font-weight: 400;
            display: block;
            margin-top: 2px;
        }
        
        .stock-row {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .stock-row:hover {
            background: var(--light-blue);
            transform: translateY(-1px);
        }
        
        .details-row {
            background: var(--bg-secondary);
        }
        
        .details-content {
            padding: 25px;
            text-align: left;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .metric-section {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
        }
        
        .metric-section h4 {
            color: var(--secondary-blue);
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .metric-section p {
            margin: 8px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .positive {
            background: var(--positive-bg) !important;
            color: var(--positive);
            font-weight: 600;
            border-radius: 6px;
            padding: 4px 8px;
        }
        
        .neutral {
            background: var(--neutral-bg) !important;
            color: var(--neutral);
            font-weight: 500;
            border-radius: 6px;
            padding: 4px 8px;
        }
        
        .negative {
            background: var(--negative-bg) !important;
            color: var(--negative);
            font-weight: 600;
            border-radius: 6px;
            padding: 4px 8px;
        }

        .hidden-mobile {
            display: table-cell;
        }

        .usage-guide {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            border: 1px solid var(--border);
        }

        .usage-guide h4 {
            color: var(--secondary-blue);
            margin-bottom: 15px;
        }

        .timestamp {
            text-align: right;
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-section {
                justify-content: center;
            }

            .filter-group {
                flex: 1;
                min-width: 120px;
            }

            .hidden-mobile {
                display: none;
            }

            th, td {
                padding: 8px 4px;
                font-size: 0.75rem;
            }

            .metric-grid {
                grid-template-columns: 1fr;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            th, td {
                padding: 6px 2px;
                font-size: 0.7rem;
            }

            select, input {
                min-width: 100px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <div class="glass-card header">
            <h1>📊 Stock Analysis Dashboard</h1>
            <p style="color: var(--text-secondary);">Professional sector-specific stock evaluation</p>
            <div style="margin-top: 20px;">
                <button class="theme-toggle" onclick="toggleTheme()">🌓 Toggle Theme</button>
            </div>
        </div>
        
        <div class="glass-card info-box" style="margin-bottom: 30px;">
            <h3>📊 Professional Stock Analysis Platform</h3>
            <p>Our advanced dashboard provides <strong>sector-specific stock evaluation</strong> using industry-appropriate metrics and thresholds. Each stock is analyzed across three key dimensions: <strong>Valuation</strong> (P/E, PEG ratios), <strong>Stability</strong> (ROE, ROIC, margins), and <strong>Growth</strong> (sales and earnings trends).</p>
            <p><strong>Sector Intelligence:</strong> Technology stocks are evaluated with high growth expectations and P/E tolerance, while Utilities focus on value and income. Financials emphasize quality metrics with special debt handling, and Energy sectors use cyclical adjustments with high FCF expectations.</p>
        </div>

        <div class="glass-card controls">
            <div class="filter-section">
                <div class="filter-group">
                    <label for="sectorFilter">Sector</label>
                    <select id="sectorFilter">
                        <option value="">All Sectors</option>
                        <option value="Communication Services">Communication Services</option>
                        <option value="Technology">Technology</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Financial">Financial</option>
                        <option value="Consumer Cyclical">Consumer Cyclical</option>
                        <option value="Industrials">Industrials</option>
                        <option value="Energy">Energy</option>
                        <option value="Consumer Defensive">Consumer Defensive</option>
                        <option value="Basic Materials">Basic Materials</option>
                        <option value="Real Estate">Real Estate</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="valuationFilter">Min Valuation Score</label>
                    <input type="number" id="valuationFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
                
                <div class="filter-group">
                    <label for="stabilityFilter">Min Stability Score</label>
                    <input type="number" id="stabilityFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
                
                <div class="filter-group">
                    <label for="growthFilter">Min Growth Score</label>
                    <input type="number" id="growthFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
            </div>
            
            <button class="theme-toggle" onclick="applyFilters()" style="background: var(--accent-blue);">🔍 Apply Filters</button>
        </div>
        
        <div class="glass-card table-container">
            <table>
                <thead>
                    <tr>
                        <th>Stock<br><small>Price | Sector</small></th>
                        <th>P/E<br><small>Forward</small></th>
                        <th>PEG</th>
                        <th>Debt/Eq<br><small>Current R.</small></th>
                        <th class="hidden-mobile">ROE<br><small>Profit M.</small></th>
                        <th class="hidden-mobile">FCF/Share<br><small>FCF Yield</small></th>
                        <th class="hidden-mobile">Sales<br><small>5Y CAGR</small></th>
                        <th class="hidden-mobile">EPS<br><small>5Y CAGR</small></th>
                        <th class="hidden-mobile">Recent Growth<br><small>TTM</small></th>
                        <th>Val<br>(0-10)</th>
                        <th>Stab<br>(0-10)</th>
                        <th>Growth<br>(0-10)</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
            <tr class="stock-row" data-sector="Communication Services" data-valuation="6.8" data-stability="7.8" data-growth="8.5" onclick="toggleDetails('GOOGL')">
                <td><strong>GOOGL</strong><br><small>$206.09</small><br><small style="color: #666;">Communication Services</small></td>
                <td>21.9<br><small>Fwd: 19.4</small></td>
                <td>1.50</td>
                <td>0.11<br>
                    <small>1.9</small></td>
                <td class="hidden-mobile">34.8%<br>
                    <small>31.1%</small></td>
                <td class="hidden-mobile">$5.51<br><small>2.7%</small></td>
                <td class="hidden-mobile">16.7%</td>
                <td class="hidden-mobile">26.8%</td>
                <td class="hidden-mobile">EPS: +34.5% | Sales: +13.2%</td>
                <td class="neutral">6.8</td>
                <td class="positive">7.8</td>
                <td class="positive">8.5</td>
                <td class="positive"><strong>7.7</strong></td>
            </tr>
        
            <tr id="details-GOOGL" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 6.73 | 
                                   P/B: 6.87 | 
                                   EV/EBITDA: 17.6</p>
                                <p>P/FCF: 37.4 | 
                                   EV/Sales: 6.58</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 25.2% | 
                                   ROIC: 28.9% | 
                                   Gross Margin: 58.9%</p>
                                <p>Quick Ratio: 1.90 | 
                                   Cash/sh: $7.85</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $5.51 | FCF Yield: 2.7%</p>
                                <p>P/FCF: 37.4 | 
                                   Total FCF: $66.72B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 16.7% | 5Y EPS CAGR: 26.8%</p>
                                <p>EPS Growth: TTM +34.5% | 
                                   Q/Q +22.3%</p>
                                <p>Sales Growth: TTM +13.2% | 
                                   Q/Q +14.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.00 | 
                                   RSI: 68.9 | 
                                   Short Float: 1.0%</p>
                                <p>Insider Own: 52.0% | 
                                   Inst Own: 38.5%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Communication Services</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.5</p>
                                <p>Dividend Weight: 10.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Communication Services" data-valuation="4.4" data-stability="7.3" data-growth="8.5" onclick="toggleDetails('META')">
                <td><strong>META</strong><br><small>$754.79</small><br><small style="color: #666;">Communication Services</small></td>
                <td>27.3<br><small>Fwd: 25.2</small></td>
                <td>2.12</td>
                <td>0.25<br>
                    <small>2.0</small></td>
                <td class="hidden-mobile">40.6%<br>
                    <small>40.0%</small></td>
                <td class="hidden-mobile">$19.96<br><small>2.6%</small></td>
                <td class="hidden-mobile">18.4%</td>
                <td class="hidden-mobile">30.0%</td>
                <td class="hidden-mobile">EPS: +40.6% | Sales: +19.4%</td>
                <td class="negative">4.4</td>
                <td class="positive">7.3</td>
                <td class="positive">8.5</td>
                <td class="positive"><strong>7.0</strong></td>
            </tr>
        
            <tr id="details-META" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 10.60 | 
                                   P/B: 9.74 | 
                                   EV/EBITDA: 19.9</p>
                                <p>P/FCF: 37.8 | 
                                   EV/Sales: 10.62</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 27.2% | 
                                   ROIC: 29.5% | 
                                   Gross Margin: 82.0%</p>
                                <p>Quick Ratio: 1.97 | 
                                   Cash/sh: $18.80</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $19.96 | FCF Yield: 2.6%</p>
                                <p>P/FCF: 37.8 | 
                                   Total FCF: $50.13B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 18.4% | 5Y EPS CAGR: 30.0%</p>
                                <p>EPS Growth: TTM +40.6% | 
                                   Q/Q +38.3%</p>
                                <p>Sales Growth: TTM +19.4% | 
                                   Q/Q +21.6%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.25 | 
                                   RSI: 52.3 | 
                                   Short Float: 1.2%</p>
                                <p>Insider Own: 13.9% | 
                                   Inst Own: 68.0%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Communication Services</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.5</p>
                                <p>Dividend Weight: 10.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Consumer Cyclical" data-valuation="5.8" data-stability="5.7" data-growth="9.4" onclick="toggleDetails('AMZN')">
                <td><strong>AMZN</strong><br><small>$228.84</small><br><small style="color: #666;">Consumer Cyclical</small></td>
                <td>34.9<br><small>Fwd: 30.2</small></td>
                <td>1.88</td>
                <td>0.46<br>
                    <small>1.0</small></td>
                <td class="hidden-mobile">24.8%<br>
                    <small>10.5%</small></td>
                <td class="hidden-mobile">$1.26<br><small>0.6%</small></td>
                <td class="hidden-mobile">17.9%</td>
                <td class="hidden-mobile">36.9%</td>
                <td class="hidden-mobile">EPS: +56.1% | Sales: +10.9%</td>
                <td class="neutral">5.8</td>
                <td class="neutral">5.7</td>
                <td class="positive">9.4</td>
                <td class="neutral"><strong>6.5</strong></td>
            </tr>
        
            <tr id="details-AMZN" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 3.64 | 
                                   P/B: 7.31 | 
                                   EV/EBITDA: 18.4</p>
                                <p>P/FCF: 181.0 | 
                                   EV/Sales: 3.72</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 11.4% | 
                                   ROIC: 15.1% | 
                                   Gross Margin: 49.6%</p>
                                <p>Quick Ratio: 0.81 | 
                                   Cash/sh: $9.09</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $1.26 | FCF Yield: 0.6%</p>
                                <p>P/FCF: 181.0 | 
                                   Total FCF: $13.48B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 17.9% | 5Y EPS CAGR: 36.9%</p>
                                <p>EPS Growth: TTM +56.1% | 
                                   Q/Q +33.5%</p>
                                <p>Sales Growth: TTM +10.9% | 
                                   Q/Q +13.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.31 | 
                                   RSI: 55.2 | 
                                   Short Float: 0.7%</p>
                                <p>Insider Own: 9.4% | 
                                   Inst Own: 65.4%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Consumer Cyclical</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.5</p>
                                <p>Dividend Weight: 10.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
            </table>
        </div>
        
        <div class="glass-card">
            <div class="usage-guide">
                <h4>📝 How to Use This Dashboard</h4>
                <p><strong>Filtering:</strong> Use the controls above to filter by sector or minimum scores</p>
                <p><strong>Mobile View:</strong> Some columns are hidden on smaller screens for better readability</p>
                <p><strong>Details:</strong> Click any stock row to see comprehensive metrics</p>
                <p><strong>Scores:</strong> 7+ = Excellent | 5-7 = Good | Below 5 = Caution</p>
                <p><strong>Theme:</strong> Toggle between light and dark modes using the theme button</p>
            </div>
        </div>
        
        <div class="timestamp" style="color: #ffffff; background: rgba(255, 255, 255, 0.15); padding: 10px 15px; border-radius: 8px; text-align: right; margin-top: 20px; backdrop-filter: blur(5px);">⏰ Last updated: 2025-08-22 22:37:21</div>
    </div>

    <script>
        function toggleDetails(stock) {
            const detailsRow = document.getElementById('details-' + stock);
            const allDetailsRows = document.querySelectorAll('.details-row');
            
            // Hide all other details rows
            allDetailsRows.forEach(row => {
                if (row.id !== 'details-' + stock) {
                    row.style.display = 'none';
                }
            });
            
            // Toggle the clicked row
            if (detailsRow.style.display === 'none' || !detailsRow.style.display) {
                detailsRow.style.display = 'table-row';
            } else {
                detailsRow.style.display = 'none';
            }
        }
        
        function applyFilters() {
            const sectorFilter = document.getElementById('sectorFilter').value;
            const valuationFilter = parseFloat(document.getElementById('valuationFilter').value) || 0;
            const stabilityFilter = parseFloat(document.getElementById('stabilityFilter').value) || 0;
            const growthFilter = parseFloat(document.getElementById('growthFilter').value) || 0;
            
            const stockRows = document.querySelectorAll('.stock-row');
            
            stockRows.forEach(row => {
                const sector = row.dataset.sector;
                const valuation = parseFloat(row.dataset.valuation);
                const stability = parseFloat(row.dataset.stability);
                const growth = parseFloat(row.dataset.growth);
                
                let show = true;
                
                if (sectorFilter && sector !== sectorFilter) {
                    show = false;
                }
                
                if (valuation < valuationFilter) {
                    show = false;
                }
                
                if (stability < stabilityFilter) {
                    show = false;
                }
                
                if (growth < growthFilter) {
                    show = false;
                }
                
                // Also hide/show the details row
                const stockSymbol = row.querySelector('strong').textContent;
                const detailsRow = document.getElementById('details-' + stockSymbol);
                
                if (show) {
                    row.style.display = 'table-row';
                } else {
                    row.style.display = 'none';
                    if (detailsRow) {
                        detailsRow.style.display = 'none';
                    }
                }
            });
        }
        
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            body.setAttribute('data-theme', newTheme);
            
            // Save theme preference
            localStorage.setItem('preferred-theme', newTheme);
        }
        
        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('preferred-theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        });
        
        // Close details when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.stock-row') && !event.target.closest('.details-row')) {
                const allDetailsRows = document.querySelectorAll('.details-row');
                allDetailsRows.forEach(row => {
                    row.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>
