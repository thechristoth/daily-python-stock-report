<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Stock Analysis Dashboard</title>
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --accent-blue: #60a5fa;
            --light-blue: #dbeafe;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-glass: rgba(255, 255, 255, 0.8);
            --border: rgba(59, 130, 246, 0.2);
            --shadow: rgba(0, 0, 0, 0.1);
            --positive: #059669;
            --neutral: #d97706;
            --negative: #dc2626;
            --positive-bg: #d1fae5;
            --neutral-bg: #fef3c7;
            --negative-bg: #fee2e2;
        }

        thead tr {
            position: sticky;
            top: 0;
            background-color: white; /* or whatever your page background color is */
            z-index: 10;
        }

        /* Optional: Add a subtle shadow for better visual separation */
        thead tr {
            position: sticky;
            top: 0;
            background-color: white;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }

        [data-theme="dark"] {
            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-glass: rgba(31, 41, 55, 0.8);
            --border: rgba(96, 165, 250, 0.3);
            --shadow: rgba(0, 0, 0, 0.3);
            --positive-bg: #064e3b;
            --neutral-bg: #78350f;
            --negative-bg: #7f1d1d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            min-height: 100vh;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .glass-card {
            background: var(--bg-glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 16px;
            box-shadow: 0 8px 32px var(--shadow);
            transition: all 0.3s ease;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
        }

        .header h1 {
            color: var(--text-primary);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 20px;
        }

        .filter-section {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: 0.875rem;
            min-width: 120px;
        }

        .theme-toggle {
            background: var(--secondary-blue);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--primary-blue);
        }

        .summary-card {
            background: linear-gradient(135deg, var(--secondary-blue), var(--accent-blue));
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .summary-card h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-box {
            padding: 25px;
        }
        
        .info-box h3 {
            color: var(--secondary-blue);
            margin-bottom: 15px;
            font-size: 1.25rem;
        }

        .table-container {
            overflow-x: auto;
            border-radius: 16px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-primary);
            border-radius: 16px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 8px;
            text-align: center;
            border-bottom: 1px solid var(--border);
            font-size: 0.875rem;
        }
        
        th {
            background: var(--primary-blue);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        th small {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.75rem;
            font-weight: 400;
            display: block;
            margin-top: 2px;
        }
        
        .stock-row {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .stock-row:hover {
            transform: translateY(-3x);
            opacity: 0.6;
            z-index: -1; /* Behind content */
        }
        
        .details-row {
            background: var(--bg-secondary);
        }
        
        .details-content {
            padding: 25px;
            text-align: left;
        }
        
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .metric-section {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border);
        }
        
        .metric-section h4 {
            color: var(--secondary-blue);
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .metric-section p {
            margin: 8px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .positive {
            background: var(--positive-bg) !important;
            color: var(--positive);
            font-weight: 600;
            border-radius: 6px;
            padding: 4px 8px;
        }
        
        .neutral {
            background: var(--neutral-bg) !important;
            color: var(--neutral);
            font-weight: 500;
            border-radius: 6px;
            padding: 4px 8px;
        }
        
        .negative {
            background: var(--negative-bg) !important;
            color: var(--negative);
            font-weight: 600;
            border-radius: 6px;
            padding: 4px 8px;
        }

        .hidden-mobile {
            display: table-cell;
        }

        .usage-guide {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            border: 1px solid var(--border);
        }

        .usage-guide h4 {
            color: var(--secondary-blue);
            margin-bottom: 15px;
        }

        .timestamp {
            text-align: right;
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-section {
                justify-content: center;
            }

            .filter-group {
                flex: 1;
                min-width: 120px;
            }

            .hidden-mobile {
                display: none;
            }

            th, td {
                padding: 8px 4px;
                font-size: 0.75rem;
            }

            .metric-grid {
                grid-template-columns: 1fr;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            th, td {
                padding: 6px 2px;
                font-size: 0.7rem;
            }

            select, input {
                min-width: 100px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <div class="glass-card header">
            <h1>Stock Analysis Dashboard</h1>
            <p style="color: var(--text-secondary);">Professional sector-specific stock evaluation</p>
            <div style="margin-top: 20px;">
                <button class="theme-toggle" onclick="toggleTheme()">Dark Mode Toggle</button>
            </div>
        </div>
        
        <div class="glass-card info-box" style="margin-bottom: 30px;">
            <h3>Professional Stock Analysis Platform</h3>
            <p>Our advanced dashboard provides <strong>sector-specific stock evaluation</strong> using industry-appropriate metrics and thresholds. Each stock is analyzed across three key dimensions: <strong>Valuation</strong> (P/E, PEG ratios), <strong>Stability</strong> (ROE, ROIC, margins), and <strong>Growth</strong> (sales and earnings trends).</p>
            <p><strong>Sector Intelligence:</strong> Technology stocks are evaluated with high growth expectations and P/E tolerance, while Utilities focus on value and income. Financials emphasize quality metrics with special debt handling, and Energy sectors use cyclical adjustments with high FCF expectations.</p>
        </div>

        <div class="glass-card controls">
            <div class="filter-section">
                <div class="filter-group">
                    <label for="sectorFilter">Sector</label>
                    <select id="sectorFilter">
                        <option value="">All Sectors</option>
                        <option value="Communication Services">Communication Services</option>
                        <option value="Technology">Technology</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Financial">Financial</option>
                        <option value="Consumer Cyclical">Consumer Cyclical</option>
                        <option value="Industrials">Industrials</option>
                        <option value="Energy">Energy</option>
                        <option value="Consumer Defensive">Consumer Defensive</option>
                        <option value="Basic Materials">Basic Materials</option>
                        <option value="Real Estate">Real Estate</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="valuationFilter">Min Valuation Score</label>
                    <input type="number" id="valuationFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
                
                <div class="filter-group">
                    <label for="stabilityFilter">Min Stability Score</label>
                    <input type="number" id="stabilityFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
                
                <div class="filter-group">
                    <label for="growthFilter">Min Growth Score</label>
                    <input type="number" id="growthFilter" placeholder="0-10" min="0" max="10" step="0.1">
                </div>
            </div>
            
            <button class="theme-toggle" onclick="applyFilters()" style="background: var(--accent-blue);">Apply Filters</button>
        </div>
        
        <div class="glass-card table-container" style="margin-bottom: 30px;">
            <table>
                <thead>
                    <tr>
                        <th>Stock<br><small>Price | Sector</small></th>
                        <th>P/E<br><small>Forward</small></th>
                        <th>PEG</th>
                        <th>Debt/Eq<br><small>Current R.</small></th>
                        <th class="hidden-mobile">ROE<br><small>Profit M.</small></th>
                        <th class="hidden-mobile">FCF/Share<br><small>FCF Yield</small></th>
                        <th class="hidden-mobile">Sales<br><small>5Y CAGR</small></th>
                        <th class="hidden-mobile">EPS<br><small>5Y CAGR</small></th>
                        <th class="hidden-mobile">Recent Growth<br><small>TTM</small></th>
                        <th>Val<br>(0-10)</th>
                        <th>Quality<br>(0-10)</th>
                        <th>Growth<br>(0-10)</th>
                        <th>Historical<br>(0-10)</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
            <tr class="stock-row" data-sector="Consumer Cyclical" data-valuation="8.8" data-growth="9.1" onclick="toggleDetails('DECK')">
                <td><strong>DECK</strong><br><small>$95.07</small><br><small style="color: #666;">Consumer Cyclical</small></td>
                <td>14.6<br><small>Fwd: 13.7</small></td>
                <td>1.98</td>
                <td>0.13<br>
                    <small>2.9</small></td>
                <td class="hidden-mobile">43.6%<br>
                    <small>19.3%</small></td>
                <td class="hidden-mobile">$5.93<br><small>6.2%</small></td>
                <td class="hidden-mobile">18.5%</td>
                <td class="hidden-mobile">31.6%</td>
                <td class="hidden-mobile">EPS: +24.2% | Sales: +15.4%</td>
                <td class="positive">8.8</td>
                <td class="positive">9.6</td>
                <td class="positive">9.1</td>
                <td class="positive">9.5</td>
                <td class="positive"><strong>9.3</strong></td>
            </tr>
        
            <tr id="details-DECK" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 2.75 | 
                                P/B: 5.72 | 
                                EV/EBITDA: 9.9</p>
                                <p>P/FCF: 16.0 | 
                                EV/Sales: 2.48</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 27.7% | 
                                ROIC: 36.5% | 
                                Gross Margin: 56.2%</p>
                                <p>Quick Ratio: 2.13 | 
                                Cash/sh: $11.60</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $5.93 | FCF Yield: 6.2%</p>
                                <p>P/FCF: 16.0 | 
                                Total FCF: $0.88B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 18.5% | 5Y EPS CAGR: 31.6%</p>
                                <p>EPS Growth: TTM +24.2% | 
                                Q/Q +23.5%</p>
                                <p>Sales Growth: TTM +15.4% | 
                                Q/Q +16.8%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>9.5</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.11 | 
                                RSI: 29.4 | 
                                Short Float: 4.0%</p>
                                <p>Insider Own: 1.8% | 
                                Inst Own: 98.7%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Consumer Cyclical</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [20, 28, 38, 55]</p>
                                <p>Debt Tolerance: 1.0</p>
                                <p>Dividend Weight: 20.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Healthcare" data-valuation="9.3" data-growth="8.8" onclick="toggleDetails('EXEL')">
                <td><strong>EXEL</strong><br><small>$38.15</small><br><small style="color: #666;">Healthcare</small></td>
                <td>18.3<br><small>Fwd: 12.3</small></td>
                <td>0.58</td>
                <td>0.09<br>
                    <small>3.5</small></td>
                <td class="hidden-mobile">29.0%<br>
                    <small>27.0%</small></td>
                <td class="hidden-mobile">$2.80<br><small>7.3%</small></td>
                <td class="hidden-mobile">17.5%</td>
                <td class="hidden-mobile">11.6%</td>
                <td class="hidden-mobile">EPS: +81.7% | Sales: +10.7%</td>
                <td class="positive">9.3</td>
                <td class="positive">9.7</td>
                <td class="positive">8.8</td>
                <td class="positive">8.2</td>
                <td class="positive"><strong>9.2</strong></td>
            </tr>
        
            <tr id="details-EXEL" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 4.61 | 
                                P/B: 5.07 | 
                                EV/EBITDA: 12.4</p>
                                <p>P/FCF: 13.6 | 
                                EV/Sales: 4.33</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 22.1% | 
                                ROIC: 27.2% | 
                                Gross Margin: 96.6%</p>
                                <p>Quick Ratio: 3.44 | 
                                Cash/sh: $2.94</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $2.80 | FCF Yield: 7.3%</p>
                                <p>P/FCF: 13.6 | 
                                Total FCF: $0.75B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 17.5% | 5Y EPS CAGR: 11.6%</p>
                                <p>EPS Growth: TTM +81.7% | 
                                Q/Q -15.5%</p>
                                <p>Sales Growth: TTM +10.7% | 
                                Q/Q -10.8%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>8.2</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.33 | 
                                RSI: 40.6 | 
                                Short Float: 6.8%</p>
                                <p>Insider Own: 3.2% | 
                                Inst Own: 95.7%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Healthcare</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [22, 30, 45, 65]</p>
                                <p>Debt Tolerance: 0.6</p>
                                <p>Dividend Weight: 20.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Financial" data-valuation="6.7" data-growth="9.2" onclick="toggleDetails('PGR')">
                <td><strong>PGR</strong><br><small>$240.00</small><br><small style="color: #666;">Financial</small></td>
                <td>13.5<br><small>Fwd: 14.5</small></td>
                <td>2.34</td>
                <td>0.21<br>
                    <small>0.8</small></td>
                <td class="hidden-mobile">37.3%<br>
                    <small>12.7%</small></td>
                <td class="hidden-mobile">$28.10<br><small>11.7%</small></td>
                <td class="hidden-mobile">14.1%</td>
                <td class="hidden-mobile">16.5%</td>
                <td class="hidden-mobile">EPS: +51.9% | Sales: +21.5%</td>
                <td class="neutral">6.7</td>
                <td class="positive">9.2</td>
                <td class="positive">9.2</td>
                <td class="positive">9.4</td>
                <td class="positive"><strong>8.9</strong></td>
            </tr>
        
            <tr id="details-PGR" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 1.71 | 
                                P/B: 4.31 | 
                                EV/EBITDA: N/A</p>
                                <p>P/FCF: 8.5 | 
                                EV/Sales: N/A</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 10.2% | 
                                ROIC: 26.4% | 
                                Gross Margin: N/A</p>
                                <p>Quick Ratio: N/A | 
                                Cash/sh: $N/A</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $28.10 | FCF Yield: 11.7%</p>
                                <p>P/FCF: 8.5 | 
                                Total FCF: $16.47B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 14.1% | 5Y EPS CAGR: 16.5%</p>
                                <p>EPS Growth: TTM +51.9% | 
                                Q/Q +116.8%</p>
                                <p>Sales Growth: TTM +21.5% | 
                                Q/Q +21.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>9.4</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.31 | 
                                RSI: 42.6 | 
                                Short Float: 1.1%</p>
                                <p>Insider Own: 0.3% | 
                                Inst Own: 87.5%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Financial</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [10, 13, 18, 25]</p>
                                <p>Debt Tolerance: 8.0</p>
                                <p>Dividend Weight: 30.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Communication Services" data-valuation="8.7" data-growth="7.5" onclick="toggleDetails('GOOGL')">
                <td><strong>GOOGL</strong><br><small>$236.57</small><br><small style="color: #666;">Communication Services</small></td>
                <td>25.2<br><small>Fwd: 22.1</small></td>
                <td>1.67</td>
                <td>0.11<br>
                    <small>1.9</small></td>
                <td class="hidden-mobile">34.8%<br>
                    <small>31.1%</small></td>
                <td class="hidden-mobile">$5.51<br><small>2.3%</small></td>
                <td class="hidden-mobile">16.7%</td>
                <td class="hidden-mobile">26.8%</td>
                <td class="hidden-mobile">EPS: +34.5% | Sales: +13.2%</td>
                <td class="positive">8.7</td>
                <td class="positive">9.3</td>
                <td class="positive">7.5</td>
                <td class="positive">8.6</td>
                <td class="positive"><strong>8.7</strong></td>
            </tr>
        
            <tr id="details-GOOGL" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 7.72 | 
                                P/B: 7.89 | 
                                EV/EBITDA: 20.2</p>
                                <p>P/FCF: 43.0 | 
                                EV/Sales: 7.58</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 25.2% | 
                                ROIC: 28.9% | 
                                Gross Margin: 58.9%</p>
                                <p>Quick Ratio: 1.90 | 
                                Cash/sh: $7.85</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $5.51 | FCF Yield: 2.3%</p>
                                <p>P/FCF: 43.0 | 
                                Total FCF: $66.73B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 16.7% | 5Y EPS CAGR: 26.8%</p>
                                <p>EPS Growth: TTM +34.5% | 
                                Q/Q +22.3%</p>
                                <p>Sales Growth: TTM +13.2% | 
                                Q/Q +14.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>8.6</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.04 | 
                                RSI: 46.0 | 
                                Short Float: 1.0%</p>
                                <p>Insider Own: 52.0% | 
                                Inst Own: 38.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Communication Services</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.8</p>
                                <p>Dividend Weight: 15.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Communication Services" data-valuation="9.1" data-growth="7.0" onclick="toggleDetails('PINS')">
                <td><strong>PINS</strong><br><small>$30.40</small><br><small style="color: #666;">Communication Services</small></td>
                <td>10.9<br><small>Fwd: 14.3</small></td>
                <td>0.44</td>
                <td>0.03<br>
                    <small>8.8</small></td>
                <td class="hidden-mobile">48.1%<br>
                    <small>49.3%</small></td>
                <td class="hidden-mobile">$1.54<br><small>5.1%</small></td>
                <td class="hidden-mobile">26.1%</td>
                <td class="hidden-mobile">N/A</td>
                <td class="hidden-mobile">EPS: +901.0% | Sales: +17.0%</td>
                <td class="positive">9.1</td>
                <td class="positive">9.7</td>
                <td class="positive">7.0</td>
                <td class="neutral">5.9</td>
                <td class="positive"><strong>8.5</strong></td>
            </tr>
        
            <tr id="details-PINS" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 5.29 | 
                                P/B: 4.29 | 
                                EV/EBITDA: 75.8</p>
                                <p>P/FCF: 19.7 | 
                                EV/Sales: 4.65</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 42.1% | 
                                ROIC: 38.9% | 
                                Gross Margin: 79.9%</p>
                                <p>Quick Ratio: 8.76 | 
                                Cash/sh: $3.91</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $1.54 | FCF Yield: 5.1%</p>
                                <p>P/FCF: 19.7 | 
                                Total FCF: $1.05B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 26.1% | 5Y EPS CAGR: N/A</p>
                                <p>EPS Growth: TTM +901.0% | 
                                Q/Q +346.0%</p>
                                <p>Sales Growth: TTM +17.0% | 
                                Q/Q +16.9%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>5.9</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.95 | 
                                RSI: 26.0 | 
                                Short Float: 5.0%</p>
                                <p>Insider Own: 12.6% | 
                                Inst Own: 82.0%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Communication Services</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.8</p>
                                <p>Dividend Weight: 15.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Technology" data-valuation="7.0" data-growth="7.4" onclick="toggleDetails('MSFT')">
                <td><strong>MSFT</strong><br><small>$510.96</small><br><small style="color: #666;">Technology</small></td>
                <td>37.5<br><small>Fwd: 28.0</small></td>
                <td>2.24</td>
                <td>0.33<br>
                    <small>1.4</small></td>
                <td class="hidden-mobile">33.3%<br>
                    <small>36.1%</small></td>
                <td class="hidden-mobile">$9.63<br><small>1.9%</small></td>
                <td class="hidden-mobile">14.5%</td>
                <td class="hidden-mobile">18.8%</td>
                <td class="hidden-mobile">EPS: +15.5% | Sales: +14.9%</td>
                <td class="positive">7.0</td>
                <td class="positive">8.6</td>
                <td class="positive">7.4</td>
                <td class="positive">9.1</td>
                <td class="positive"><strong>8.3</strong></td>
            </tr>
        
            <tr id="details-MSFT" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 13.48 | 
                                P/B: 11.06 | 
                                EV/EBITDA: 23.4</p>
                                <p>P/FCF: 53.0 | 
                                EV/Sales: 13.54</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 18.0% | 
                                ROIC: 22.9% | 
                                Gross Margin: 68.8%</p>
                                <p>Quick Ratio: 1.35 | 
                                Cash/sh: $12.72</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $9.63 | FCF Yield: 1.9%</p>
                                <p>P/FCF: 53.0 | 
                                Total FCF: $71.61B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 14.5% | 5Y EPS CAGR: 18.8%</p>
                                <p>EPS Growth: TTM +15.5% | 
                                Q/Q +23.8%</p>
                                <p>Sales Growth: TTM +14.9% | 
                                Q/Q +18.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>9.1</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.02 | 
                                RSI: 46.8 | 
                                Short Float: 0.8%</p>
                                <p>Insider Own: 1.5% | 
                                Inst Own: 73.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Technology</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.4</p>
                                <p>Dividend Weight: 10.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Industrials" data-valuation="6.6" data-growth="7.7" onclick="toggleDetails('MLI')">
                <td><strong>MLI</strong><br><small>$96.96</small><br><small style="color: #666;">Industrials</small></td>
                <td>15.4<br><small>Fwd: 12.8</small></td>
                <td>N/A</td>
                <td>0.01<br>
                    <small>4.9</small></td>
                <td class="hidden-mobile">26.0%<br>
                    <small>17.5%</small></td>
                <td class="hidden-mobile">$5.33<br><small>5.5%</small></td>
                <td class="hidden-mobile">9.2%</td>
                <td class="hidden-mobile">42.7%</td>
                <td class="hidden-mobile">EPS: +30.1% | Sales: +19.4%</td>
                <td class="neutral">6.6</td>
                <td class="positive">8.4</td>
                <td class="positive">7.7</td>
                <td class="negative">4.5</td>
                <td class="positive"><strong>7.4</strong></td>
            </tr>
        
            <tr id="details-MLI" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 2.64 | 
                                P/B: 3.68 | 
                                EV/EBITDA: 10.9</p>
                                <p>P/FCF: 18.2 | 
                                EV/Sales: 2.40</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 21.7% | 
                                ROIC: 24.1% | 
                                Gross Margin: 26.6%</p>
                                <p>Quick Ratio: 3.73 | 
                                Cash/sh: $9.61</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $5.33 | FCF Yield: 5.5%</p>
                                <p>P/FCF: 18.2 | 
                                Total FCF: $0.59B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 9.2% | 5Y EPS CAGR: 42.7%</p>
                                <p>EPS Growth: TTM +30.1% | 
                                Q/Q +57.8%</p>
                                <p>Sales Growth: TTM +19.4% | 
                                Q/Q +14.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>4.5</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.05 | 
                                RSI: 44.8 | 
                                Short Float: 1.8%</p>
                                <p>Insider Own: 2.5% | 
                                Inst Own: 89.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Industrials</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [18, 24, 32, 45]</p>
                                <p>Debt Tolerance: 0.9</p>
                                <p>Dividend Weight: 25.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Consumer Defensive" data-valuation="2.8" data-growth="8.2" onclick="toggleDetails('MNST')">
                <td><strong>MNST</strong><br><small>$69.62</small><br><small style="color: #666;">Consumer Defensive</small></td>
                <td>43.5<br><small>Fwd: 32.7</small></td>
                <td>3.44</td>
                <td>0.00<br>
                    <small>3.5</small></td>
                <td class="hidden-mobile">24.1%<br>
                    <small>20.5%</small></td>
                <td class="hidden-mobile">$1.90<br><small>2.7%</small></td>
                <td class="hidden-mobile">12.3%</td>
                <td class="hidden-mobile">8.0%</td>
                <td class="hidden-mobile">EPS: -0.5% | Sales: +3.7%</td>
                <td class="negative">2.8</td>
                <td class="positive">7.8</td>
                <td class="positive">8.2</td>
                <td class="positive">7.5</td>
                <td class="positive"><strong>7.1</strong></td>
            </tr>
        
            <tr id="details-MNST" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 8.88 | 
                                P/B: 9.45 | 
                                EV/EBITDA: 28.8</p>
                                <p>P/FCF: 36.6 | 
                                EV/Sales: 8.60</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 18.7% | 
                                ROIC: 21.9% | 
                                Gross Margin: 55.2%</p>
                                <p>Quick Ratio: 3.00 | 
                                Cash/sh: $2.12</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $1.90 | FCF Yield: 2.7%</p>
                                <p>P/FCF: 36.6 | 
                                Total FCF: $1.85B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 12.3% | 5Y EPS CAGR: 8.0%</p>
                                <p>EPS Growth: TTM -0.5% | 
                                Q/Q +21.1%</p>
                                <p>Sales Growth: TTM +3.7% | 
                                Q/Q +11.1%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>7.5</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.53 | 
                                RSI: 73.6 | 
                                Short Float: 3.0%</p>
                                <p>Insider Own: 29.0% | 
                                Inst Own: 66.7%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Consumer Defensive</strong></p>
                                <p>Growth Expectations: Low</p>
                                <p>P/E Thresholds: [18, 24, 30, 40]</p>
                                <p>Debt Tolerance: 0.8</p>
                                <p>Dividend Weight: 30.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Technology" data-valuation="3.0" data-growth="8.1" onclick="toggleDetails('DUOL')">
                <td><strong>DUOL</strong><br><small>$325.00</small><br><small style="color: #666;">Technology</small></td>
                <td>135.1<br><small>Fwd: 68.4</small></td>
                <td>2.62</td>
                <td>0.10<br>
                    <small>2.8</small></td>
                <td class="hidden-mobile">13.4%<br>
                    <small>13.2%</small></td>
                <td class="hidden-mobile">$7.16<br><small>2.2%</small></td>
                <td class="hidden-mobile">60.3%</td>
                <td class="hidden-mobile">N/A</td>
                <td class="hidden-mobile">EPS: +68.5% | Sales: +39.5%</td>
                <td class="negative">3.0</td>
                <td class="neutral">6.7</td>
                <td class="positive">8.1</td>
                <td class="positive">7.5</td>
                <td class="neutral"><strong>6.7</strong></td>
            </tr>
        
            <tr id="details-DUOL" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 16.82 | 
                                P/B: 15.23 | 
                                EV/EBITDA: 139.7</p>
                                <p>P/FCF: 45.4 | 
                                EV/Sales: 15.69</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 8.7% | 
                                ROIC: 10.9% | 
                                Gross Margin: 71.4%</p>
                                <p>Quick Ratio: 2.81 | 
                                Cash/sh: $23.96</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $7.16 | FCF Yield: 2.2%</p>
                                <p>P/FCF: 45.4 | 
                                Total FCF: $0.33B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 60.3% | 5Y EPS CAGR: N/A</p>
                                <p>EPS Growth: TTM +68.5% | 
                                Q/Q +79.3%</p>
                                <p>Sales Growth: TTM +39.5% | 
                                Q/Q +41.5%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>7.5</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.85 | 
                                RSI: 53.2 | 
                                Short Float: 9.7%</p>
                                <p>Insider Own: 15.2% | 
                                Inst Own: 83.4%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Technology</strong></p>
                                <p>Growth Expectations: High</p>
                                <p>P/E Thresholds: [25, 35, 50, 70]</p>
                                <p>Debt Tolerance: 0.4</p>
                                <p>Dividend Weight: 10.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Consumer Defensive" data-valuation="6.2" data-growth="5.2" onclick="toggleDetails('KO')">
                <td><strong>KO</strong><br><small>$67.04</small><br><small style="color: #666;">Consumer Defensive</small></td>
                <td>23.8<br><small>Fwd: 20.9</small></td>
                <td>3.88</td>
                <td>1.73<br>
                    <small>1.2</small></td>
                <td class="hidden-mobile">44.8%<br>
                    <small>25.9%</small></td>
                <td class="hidden-mobile">N/A<br><small>N/A</small></td>
                <td class="hidden-mobile">4.6%</td>
                <td class="hidden-mobile">3.5%</td>
                <td class="hidden-mobile">EPS: +14.7% | Sales: +1.3%</td>
                <td class="neutral">6.2</td>
                <td class="neutral">7.0</td>
                <td class="neutral">5.2</td>
                <td class="neutral">6.3</td>
                <td class="neutral"><strong>6.5</strong></td>
            </tr>
        
            <tr id="details-KO" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 6.13 | 
                                P/B: 10.09 | 
                                EV/EBITDA: 22.6</p>
                                <p>P/FCF: N/A | 
                                EV/Sales: 6.91</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 11.8% | 
                                ROIC: 16.6% | 
                                Gross Margin: 61.5%</p>
                                <p>Quick Ratio: 0.98 | 
                                Cash/sh: $3.32</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: N/A | FCF Yield: N/A</p>
                                <p>P/FCF: N/A | 
                                Total FCF: N/A</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 4.6% | 5Y EPS CAGR: 3.5%</p>
                                <p>EPS Growth: TTM +14.7% | 
                                Q/Q +58.2%</p>
                                <p>Sales Growth: TTM +1.3% | 
                                Q/Q +3.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>6.3</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 0.42 | 
                                RSI: 50.8 | 
                                Short Float: 0.8%</p>
                                <p>Insider Own: 0.8% | 
                                Inst Own: 74.5%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Consumer Defensive</strong></p>
                                <p>Growth Expectations: Low</p>
                                <p>P/E Thresholds: [18, 24, 30, 40]</p>
                                <p>Debt Tolerance: 0.8</p>
                                <p>Dividend Weight: 30.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Financial" data-valuation="6.6" data-growth="7.1" onclick="toggleDetails('AXP')">
                <td><strong>AXP</strong><br><small>$316.26</small><br><small style="color: #666;">Financial</small></td>
                <td>22.2<br><small>Fwd: 18.3</small></td>
                <td>1.90</td>
                <td>1.85<br>
                    <small>7.5</small></td>
                <td class="hidden-mobile">32.6%<br>
                    <small>13.0%</small></td>
                <td class="hidden-mobile">$15.94<br><small>5.0%</small></td>
                <td class="hidden-mobile">9.6%</td>
                <td class="hidden-mobile">11.9%</td>
                <td class="hidden-mobile">EPS: +6.3% | Sales: +8.0%</td>
                <td class="neutral">6.6</td>
                <td class="neutral">5.9</td>
                <td class="positive">7.1</td>
                <td class="neutral">6.2</td>
                <td class="neutral"><strong>6.2</strong></td>
            </tr>
        
            <tr id="details-AXP" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 2.86 | 
                                P/B: 6.81 | 
                                EV/EBITDA: 9.9</p>
                                <p>P/FCF: 19.8 | 
                                EV/Sales: 2.89</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 3.5% | 
                                ROIC: 11.1% | 
                                Gross Margin: 61.0%</p>
                                <p>Quick Ratio: 7.52 | 
                                Cash/sh: $83.26</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $15.94 | FCF Yield: 5.0%</p>
                                <p>P/FCF: 19.8 | 
                                Total FCF: $11.09B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 9.6% | 5Y EPS CAGR: 11.9%</p>
                                <p>EPS Growth: TTM +6.3% | 
                                Q/Q -1.7%</p>
                                <p>Sales Growth: TTM +8.0% | 
                                Q/Q +8.3%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>6.2</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.28 | 
                                RSI: 35.1 | 
                                Short Float: 1.4%</p>
                                <p>Insider Own: 0.1% | 
                                Inst Own: 86.8%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Financial</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [10, 13, 18, 25]</p>
                                <p>Debt Tolerance: 8.0</p>
                                <p>Dividend Weight: 30.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        
            <tr class="stock-row" data-sector="Financial" data-valuation="4.1" data-growth="6.8" onclick="toggleDetails('SPGI')">
                <td><strong>SPGI</strong><br><small>$486.10</small><br><small style="color: #666;">Financial</small></td>
                <td>37.4<br><small>Fwd: 25.1</small></td>
                <td>3.29</td>
                <td>0.36<br>
                    <small>1.0</small></td>
                <td class="hidden-mobile">11.8%<br>
                    <small>27.3%</small></td>
                <td class="hidden-mobile">$17.72<br><small>3.6%</small></td>
                <td class="hidden-mobile">16.2%</td>
                <td class="hidden-mobile">7.5%</td>
                <td class="hidden-mobile">EPS: +23.3% | Sales: +10.7%</td>
                <td class="negative">4.1</td>
                <td class="negative">4.8</td>
                <td class="neutral">6.8</td>
                <td class="positive">8.3</td>
                <td class="neutral"><strong>5.5</strong></td>
            </tr>
        
            <tr id="details-SPGI" class="details-row" style="display: none;">
                <td colspan="13">
                    <div class="details-content">
                        <div class="metric-grid">
                            <div class="metric-section">
                                <h4>📊 Valuation Details</h4>
                                <p>P/S: 10.10 | 
                                P/B: 4.44 | 
                                EV/EBITDA: 22.9</p>
                                <p>P/FCF: 27.4 | 
                                EV/Sales: 11.10</p>
                            </div>
                            <div class="metric-section">
                                <h4>💪 Quality Metrics</h4>
                                <p>ROA: 6.6% | 
                                ROIC: 8.9% | 
                                Gross Margin: 61.6%</p>
                                <p>Quick Ratio: 0.98 | 
                                Cash/sh: $6.05</p>
                            </div>
                            <div class="metric-section">
                                <h4>💰 Free Cash Flow Analysis</h4>
                                <p>FCF per Share: $17.72 | FCF Yield: 3.6%</p>
                                <p>P/FCF: 27.4 | 
                                Total FCF: $5.41B</p>
                                <p><small>💡 FCF shows actual cash generation ability - crucial for dividends and growth funding</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>📈 Growth Trends</h4>
                                <p>5Y Sales CAGR: 16.2% | 5Y EPS CAGR: 7.5%</p>
                                <p>EPS Growth: TTM +23.3% | 
                                Q/Q +8.5%</p>
                                <p>Sales Growth: TTM +10.7% | 
                                Q/Q +5.8%</p>
                            </div>
                            <div class="metric-section">
                                <h4>📚 Historical Fundamentals</h4>
                                <p>Historical Score: <strong>8.3</strong></p>
                                <p>Weight in Total Score: 15.0%</p>
                                <p>Data Available: ✅ Yes</p>
                                <p><small>💡 Historical score reflects long-term fundamental consistency and quality</small></p>
                            </div>
                            <div class="metric-section">
                                <h4>🎯 Market Position</h4>
                                <p>Beta: 1.17 | 
                                RSI: 34.9 | 
                                Short Float: 1.0%</p>
                                <p>Insider Own: 0.2% | 
                                Inst Own: 89.6%</p>
                            </div>
                            <div class="metric-section">
                                <h4>🏢 Sector Analysis</h4>
                                <p>Sector: <strong>Financial</strong></p>
                                <p>Growth Expectations: Moderate</p>
                                <p>P/E Thresholds: [10, 13, 18, 25]</p>
                                <p>Debt Tolerance: 8.0</p>
                                <p>Dividend Weight: 30.0%</p>
                                <p>Historical Weight: 15.0%</p>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
            </table>
        </div>
        
        <div class="timestamp" style="color: #ffffff; background: rgba(255, 255, 255, 0.15); padding: 10px 15px; border-radius: 8px; text-align: right; margin-top: 20px; backdrop-filter: blur(5px);">⏰ Last updated: 2025-10-12 04:37:06</div>
    </div>

    <script>
        function toggleDetails(stock) {
            const detailsRow = document.getElementById('details-' + stock);
            const allDetailsRows = document.querySelectorAll('.details-row');
            
            // Hide all other details rows
            allDetailsRows.forEach(row => {
                if (row.id !== 'details-' + stock) {
                    row.style.display = 'none';
                }
            });
            
            // Toggle the clicked row
            if (detailsRow.style.display === 'none' || !detailsRow.style.display) {
                detailsRow.style.display = 'table-row';
            } else {
                detailsRow.style.display = 'none';
            }
        }
        
        function applyFilters() {
            const sectorFilter = document.getElementById('sectorFilter').value;
            const valuationFilter = parseFloat(document.getElementById('valuationFilter').value) || 0;
            const stabilityFilter = parseFloat(document.getElementById('stabilityFilter').value) || 0;
            const growthFilter = parseFloat(document.getElementById('growthFilter').value) || 0;
            
            const stockRows = document.querySelectorAll('.stock-row');
            
            stockRows.forEach(row => {
                const sector = row.dataset.sector;
                const valuation = parseFloat(row.dataset.valuation);
                const stability = parseFloat(row.dataset.stability);
                const growth = parseFloat(row.dataset.growth);
                
                let show = true;
                
                if (sectorFilter && sector !== sectorFilter) {
                    show = false;
                }
                
                if (valuation < valuationFilter) {
                    show = false;
                }
                
                if (stability < stabilityFilter) {
                    show = false;
                }
                
                if (growth < growthFilter) {
                    show = false;
                }
                
                // Also hide/show the details row
                const stockSymbol = row.querySelector('strong').textContent;
                const detailsRow = document.getElementById('details-' + stockSymbol);
                
                if (show) {
                    row.style.display = 'table-row';
                } else {
                    row.style.display = 'none';
                    if (detailsRow) {
                        detailsRow.style.display = 'none';
                    }
                }
            });
        }
        
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            body.setAttribute('data-theme', newTheme);
            
            // Save theme preference
            localStorage.setItem('preferred-theme', newTheme);
        }
        
        // Load saved theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('preferred-theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        });
        
        // Close details when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.stock-row') && !event.target.closest('.details-row')) {
                const allDetailsRows = document.querySelectorAll('.details-row');
                allDetailsRows.forEach(row => {
                    row.style.display = 'none';
                });
            }
        });
    </script>
</body>
</html>
